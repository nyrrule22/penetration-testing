# 53 (DNS)

## Enumeration

When seeing port 53 show up, you can add the IP of the host to the resolv.conf file

`nameserver <IP>`

### Banner Grabbing

#### dig

```bash
dig version.bind CHAOS TXT @DNS
```

#### dnsrecon

```bash
dnsrecon -r 127.0.0.0/24 -n <Target IP> -d <blah>
dnsrecon -d <IP> -r 10.0.0.0/8
```

#### nmap

```bash
nmap --script dns-nsid
```

### Zone Transfer

```bash
dig axfr @<DNS_IP>  # Try zone transfer without domain
dig axfr @<DNS_IP> <DOMAIN>  # Try zone transfer guessing the domain
fierce --domain <DOMAIN> --dns-servers <DNS_IP>  # Will try toperform a zone transfer against every authoritative name server and if this doesn'twork, will launch a dictionary attack
```

### Hostname Leak

#### nslookup

```bash
nslookup
> server <IP>
>127.0.0.1
>127.0.0.2
><IP>
```
